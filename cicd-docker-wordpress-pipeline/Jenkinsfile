pipeline {
    agent any
    
    environment {
        REPO_URL= 'https://github.com/Asaf01/ci'
        CONTAINER_NAME = "wordpress"
        IMAGE_NAME = 'wordpress'
        DIR_NAME= 'cicd-docker-wordpress-pipeline'
    }
 
   

   stages{
        stage("clone") {
            steps {
                sh 'pwd'
                sh 'docker build -t my_image --file ../dockerfile .'
                sh 'docker images '
     }
               }   
         }

    post{
        always{
            sh 'rm -fr ${DIR_NAME}'
            
        }         
               }
}